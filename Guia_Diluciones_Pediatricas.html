<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Gu√≠a de Diluciones Neonatales - PRECISI√ìN CL√çNICA</title>
    <style>
        :root { --primary: #006064; --bg: #f4f7f6; --accent: #c62828; --gold: #ef6c00; }
        body { font-family: 'Segoe UI', sans-serif; background: var(--bg); margin: 0; padding: 15px; }
        .container { max-width: 1200px; margin: auto; background: white; padding: 20px; border-radius: 12px; box-shadow: 0 4px 15px rgba(0,0,0,0.1); }
        .nav-header { display: flex; justify-content: space-between; align-items: center; border-bottom: 3px solid var(--primary); padding-bottom: 10px; margin-bottom: 20px; }
        .btn-volver { text-decoration: none; color: var(--primary); font-weight: bold; border: 2px solid var(--primary); padding: 8px 15px; border-radius: 8px; transition: 0.3s; }
        .btn-volver:hover { background: var(--primary); color: white; }
        .search-area { background: #e0f2f1; padding: 20px; border-radius: 10px; margin-bottom: 20px; display: grid; grid-template-columns: 2fr 1fr; gap: 20px; border: 1px solid #b2dfdb; }
        .input-group label { display: block; font-size: 0.8rem; font-weight: bold; color: var(--primary); margin-bottom: 5px; }
        input { padding: 12px; border: 1px solid #ccc; border-radius: 6px; width: 100%; box-sizing: border-box; font-size: 1rem; }
        table { width: 100%; border-collapse: collapse; }
        th { background: var(--primary); color: white; padding: 12px; font-size: 0.85rem; text-align: left; }
        td { padding: 15px; border-bottom: 1px solid #eee; font-size: 0.9rem; vertical-align: top; }
        .calc-box { background: #fff3e0; padding: 12px; border-radius: 8px; color: #e65100; font-weight: bold; border-left: 6px solid var(--gold); margin: 10px 0; }
        .fd-info { font-size: 0.8rem; color: #444; background: #f1f1f1; padding: 8px; border-radius: 5px; display: block; margin-top: 10px; line-height: 1.3; border-left: 3px solid #999; }
        .alert-calcio { background: #ffebee; color: #c62828; padding: 4px 8px; border-radius: 4px; font-weight: bold; font-size: 0.75rem; }
    </style>
</head>
<body>

<div class="container">
    <div class="nav-header">
        <h2 style="color:var(--primary); margin:0;">Calculadora de Diluci√≥n y Farmacodinamia</h2>
        <a href="index.html" class="btn-volver">‚¨Ö VOLVER AL MEN√ö</a>
    </div>

    <div class="search-area">
        <div class="input-group">
            <label>BUSCAR MEDICAMENTO</label>
            <input type="text" id="buscado" onkeyup="render()" placeholder="Ej: Vancomicina, Fenito√≠na...">
        </div>
        <div class="input-group">
            <label>DOSIS INDICADA (mg/mcg/UI)</label>
            <input type="number" id="mgDosis" onkeyup="render()" placeholder="Cantidad">
        </div>
    </div>

    <table id="tablaMed">
        <thead>
            <tr>
                <th>F√ÅRMACO Y AN√ÅLISIS CL√çNICO</th>
                <th>DILUCI√ìN SEGURA / TIEMPO</th>
                <th>ESTABILIDAD</th>
            </tr>
        </thead>
        <tbody id="cuerpoTabla"></tbody>
    </table>
</div>

<script>
const db = [
    {n:"ACICLOVIR", cMin:5, cMax:10, dil:"DX5% - SF", vel:"60 MIN", est:"5 D√çAS (TA)", fd:"Inhibe s√≠ntesis de ADN viral. Requiere hidrataci√≥n adecuada para evitar cristalinuria neonatal."},
    {n:"ALB√öMINA 20%", cMin:200, cMax:250, dil:"DIRECTO / DX5%", vel:"30-60 MIN", est:"72H (2-8¬∞C)", fd:"Expansor de volumen. Puede desplazar bilirrubina: precauci√≥n en ictericia extrema."},
    {n:"AMIKACINA", cMin:5, cMax:10, dil:"DX5% - SF", vel:"30 MIN", est:"7 D√çAS (TA)", fd:"Aminogluc√≥sido. Bactericida (30S). Ajustar dosis seg√∫n funci√≥n renal y niveles s√©ricos."},
    {n:"AMPICILINA", cMin:30, cMax:100, dil:"ABD - SF", vel:"30 MIN", est:"24H (2-8¬∞C)", fd:"Inhibe s√≠ntesis de pared. Estable 1h a TA tras reconstituir. Sinergia con Gentamicina."},
    {n:"ANFOTERICINA B", cMin:0.1, cMax:0.1, dil:"DX5% EXCLUSIVO", vel:"2-6 HORAS", est:"24H (TA)", fd:"Antif√∫ngico. NO diluir en SF (precipita). Monitorear potasio y funci√≥n renal."},
    {n:"CEFTRIAXONA", cMin:10, cMax:40, dil:"SF - DX5%", vel:"30 MIN", est:"3 D√çAS (TA)", fd:"<span class='alert-calcio'>PROHIBIDO CON CALCIO</span>. Riesgo de precipitaci√≥n en pulm√≥n y ri√±√≥n."},
    {n:"FENITO√çNA", cMin:5, cMax:10, dil:"SF EXCLUSIVO", vel:"20 MIN", est:"USO INMEDIATO", fd:"Anticonvulsivante. NO diluir en Glucosa. Lavar v√≠a antes y despu√©s con SF."},
    {n:"FENTANILO", cMin:0.01, cMax:0.05, dil:"SF - DX5%", vel:"INFUSI√ìN / LENTO", est:"24H (TA)", fd:"Opioide. Bolo r√°pido puede causar t√≥rax r√≠gido e imposibilidad de ventilaci√≥n."},
    {n:"VANCOMICINA", cMin:5, cMax:5, dil:"SF - DX5%", vel:"120 MIN", est:"4 D√çAS (2-8¬∞C)", fd:"Glucop√©ptido. Infusi√≥n < 5mg/ml para evitar flebitis y S√≠ndrome de Hombre Rojo."},
    {n:"PENICILINA G", cMin:50000, cMax:100000, dil:"SF - DX5%", vel:"30 MIN", est:"7 D√çAS (2-8¬∞C)", fd:"Unidades Internacionales (UI). Bactericida de elecci√≥n para SGB y S√≠filis."}
    // ... (El resto de los 46 f√°rmacos siguen esta estructura t√©cnica)
];

function render() {
    const q = document.getElementById("buscado").value.toUpperCase();
    const mg = parseFloat(document.getElementById("mgDosis").value);
    const tbody = document.getElementById("cuerpoTabla");
    tbody.innerHTML = "";

    db.filter(f => f.n.includes(q) || f.fd.toUpperCase().includes(q)).forEach(f => {
        let calc = "";
        if (mg > 0) {
            let vMax = (mg / f.cMin).toFixed(2);
            let vMin = (mg / f.cMax).toFixed(2);
            let res = (vMin === vMax) ? `${vMin} ml` : `${vMin} a ${vMax} ml`;
            calc = `<div class="calc-box">üìã C√ÅLCULO: Diluir la dosis en un VOLUMEN TOTAL de ${res} para mantener concentraci√≥n segura.</div>`;
        }
        tbody.innerHTML += `
            <tr>
                <td>
                    <b style="color:var(--primary); font-size:1.1rem;">${f.n}</b>
                    ${calc}
                    <span class="fd-info"><b>FARMACODINAMIA:</b> ${f.fd}</span>
                </td>
                <td>
                    <b>Diluyente:</b> ${f.dil}<br>
                    <b style="color:var(--accent);">‚è± Vel: ${f.vel}</b>
                </td>
                <td>${f.est}</td>
            </tr>`;
    });
}
render();
</script>
</body>
</html>
